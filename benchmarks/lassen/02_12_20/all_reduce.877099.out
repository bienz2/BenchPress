GPU Allreduce:
1:	8.012933e-01	
2:	9.192740e-01	
4:	8.714055e-01	
8:	9.060205e-01	
16:	8.303509e-01	
32:	7.962344e-01	
64:	8.701633e-01	
128:	8.183522e-01	
256:	8.257549e-01	
512:	8.062138e-01	
1024:	8.155272e-01	
2048:	8.270009e-01	
4096:	8.468408e-01	
8192:	1.412651e-01	
16384:	2.367486e-01	
32768:	3.055327e-01	
65536:	7.031179e-01	
131072:	9.548541e-01	
262144:	1.792046e+00	
524288:	3.484134e+00	
1048576:	6.825856e+00	
2097152:	1.432107e+01	
4194304:	2.916729e+01	
8388608:	6.233975e+01	

CPU Allreduce:
1:	3.158839e-02	
2:	3.130714e-02	
4:	3.112879e-02	
8:	3.327158e-02	
16:	3.292947e-02	
32:	3.139331e-02	
64:	3.160327e-02	
128:	3.220090e-02	
256:	3.278572e-02	
512:	3.377344e-02	
1024:	3.802867e-02	
2048:	4.314342e-02	
4096:	5.249626e-02	
8192:	6.538555e-02	
16384:	1.035654e-01	
32768:	1.324440e-01	
65536:	3.102051e-01	
131072:	4.526484e-01	
262144:	8.232981e-01	
524288:	1.575771e+00	
1048576:	3.136763e+00	
2097152:	6.439417e+00	
4194304:	1.466423e+01	
8388608:	3.238539e+01	

3Step:
1:	3.071599e-02	-1	-1	-1	
2:	3.081660e-02	3.314856e-02	-1	-1	
4:	3.069046e-02	3.319351e-02	3.560675e-02	-1	
8:	3.211920e-02	3.327413e-02	3.735496e-02	4.496657e-02	
16:	3.079166e-02	3.732354e-02	3.447420e-02	3.848764e-02	
32:	3.093691e-02	3.343257e-02	3.868385e-02	3.603407e-02	
64:	3.142159e-02	3.319116e-02	3.429163e-02	4.143443e-02	
128:	3.167810e-02	3.398224e-02	3.441431e-02	3.627789e-02	
256:	3.217605e-02	3.462917e-02	3.531742e-02	3.669119e-02	
512:	3.348920e-02	3.565312e-02	3.611310e-02	3.794282e-02	
1024:	3.797391e-02	3.782403e-02	3.764319e-02	4.000482e-02	
2048:	4.255099e-02	4.367004e-02	4.054352e-02	4.123051e-02	
4096:	5.156600e-02	5.190151e-02	4.802988e-02	4.512773e-02	
8192:	6.512285e-02	6.637698e-02	5.380030e-02	5.310094e-02	
16384:	1.034864e-01	8.771211e-02	8.620269e-02	6.622954e-02	
32768:	1.306049e-01	1.470431e-01	1.143984e-01	1.281623e-01	
65536:	3.112980e-01	1.821116e-01	1.846889e-01	1.692888e-01	
131072:	4.525168e-01	4.591403e-01	2.751754e-01	2.647541e-01	
262144:	8.234264e-01	6.946480e-01	5.718581e-01	4.777496e-01	
524288:	1.584915e+00	1.307544e+00	9.377161e-01	7.892064e-01	
1048576:	3.128603e+00	2.697312e+00	1.727179e+00	1.415662e+00	
2097152:	6.439058e+00	5.454336e+00	3.245567e+00	2.773178e+00	
4194304:	1.482208e+01	1.139469e+01	6.601421e+00	4.917233e+00	
8388608:	3.253033e+01	2.493559e+01	1.371480e+01	9.988898e+00	

3Step Async:
1:	3.155101e-02	-1	-1	-1	
2:	3.147006e-02	1.862293e-01	-1	-1	
4:	3.154355e-02	1.863645e-01	3.719912e-01	-1	
8:	3.286168e-02	1.869272e-01	3.728508e-01	7.478474e-01	
16:	3.156405e-02	1.826038e-01	3.714765e-01	7.465075e-01	
32:	3.165455e-02	1.861650e-01	3.714655e-01	7.471634e-01	
64:	3.200358e-02	1.859507e-01	3.691393e-01	7.436229e-01	
128:	3.294057e-02	1.856948e-01	3.688414e-01	7.418029e-01	
256:	3.293428e-02	1.718594e-01	3.470689e-01	7.179974e-01	
512:	3.449092e-02	1.791957e-01	3.562965e-01	7.184896e-01	
1024:	3.812524e-02	1.791371e-01	3.562469e-01	6.802641e-01	
2048:	4.314013e-02	1.707775e-01	3.372038e-01	6.803367e-01	
4096:	5.247492e-02	1.717181e-01	3.370183e-01	6.819517e-01	
8192:	6.567862e-02	1.738034e-01	3.389995e-01	6.765822e-01	
16384:	1.074841e-01	6.994820e-02	3.395495e-01	6.716610e-01	
32768:	1.277981e-01	1.111746e-01	7.015641e-02	6.739647e-01	
65536:	3.070936e-01	1.431281e-01	1.158535e-01	7.361156e-02	
131072:	4.509084e-01	3.164385e-01	1.750814e-01	1.240636e-01	
262144:	8.231955e-01	5.084115e-01	3.895685e-01	2.802759e-01	
524288:	1.586155e+00	9.557247e-01	5.500030e-01	4.155725e-01	
1048576:	3.104159e+00	1.954093e+00	1.058845e+00	6.379073e-01	
2097152:	6.441439e+00	4.114560e+00	2.503931e+00	1.461454e+00	
4194304:	1.462318e+01	8.384950e+00	4.670615e+00	2.924860e+00	
8388608:	3.233913e+01	2.086698e+01	9.670491e+00	5.845393e+00	
app 0: ./time_allreduce 
rank: 0: { host: 1; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 4: { host: 1; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 5: { host: 2; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 6: { host: 1; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 7: { host: 2; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 8: { host: 1; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 9: { host: 2; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 10: { host: 1; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 11: { host: 2; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 12: { host: 1; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 13: { host: 2; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 14: { host: 1; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 15: { host: 2; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 16: { host: 1; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 17: { host: 2; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 18: { host: 1; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 19: { host: 2; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 20: { host: 1; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 21: { host: 2; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 22: { host: 1; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 23: { host: 2; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 24: { host: 1; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 25: { host: 2; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 26: { host: 1; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 27: { host: 2; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 28: { host: 1; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 29: { host: 2; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 30: { host: 1; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 31: { host: 2; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 32: { host: 1; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 33: { host: 2; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 34: { host: 1; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 35: { host: 2; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 36: { host: 1; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 37: { host: 2; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 38: { host: 1; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 39: { host: 2; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 40: { host: 1; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 41: { host: 2; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 42: { host: 1; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 43: { host: 2; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 44: { host: 1; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 45: { host: 2; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 46: { host: 1; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 47: { host: 2; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 48: { host: 1; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 49: { host: 2; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 50: { host: 1; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 51: { host: 2; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 52: { host: 1; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 53: { host: 2; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 54: { host: 1; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 55: { host: 2; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 56: { host: 1; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 57: { host: 2; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 58: { host: 1; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 59: { host: 2; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 60: { host: 1; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 61: { host: 2; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 62: { host: 1; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 63: { host: 2; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 64: { host: 1; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 65: { host: 2; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 66: { host: 1; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 67: { host: 2; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 68: { host: 1; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 69: { host: 2; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 70: { host: 1; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 71: { host: 2; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 877099: <all_reduce> in cluster <lassen> Done

Job <all_reduce> was submitted from host <lassen708> by user <bienz1> in cluster <lassen> at Tue Feb 11 22:56:52 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Tue Feb 11 22:56:54 2020
                            <40*lassen25>
                            <40*lassen26>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Tue Feb 11 22:56:54 2020
Terminated at Tue Feb 11 22:58:21 2020
Results reported at Tue Feb 11 22:58:21 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J all_reduce
#BSUB -e all_reduce.%J.err
#BSUB -o all_reduce.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

module load hwloc
module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000

jsrun -a36 -c36 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 ./time_allreduce



------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.22 sec.
    Max Memory :                                 59 MB
    Average Memory :                             56.20 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   87 sec.
    Turnaround time :                            89 sec.

The output (if any) is above this job summary.



PS:

Read file <all_reduce.877099.err> for stderr output of this job.

