Host 0 [lassen14] ranks 0, 2, 4, 6
Host 1 [lassen15] ranks 1, 3, 5, 7

 host | 0    1
======|===========
    0 : pami pami
    1 : pami pami

Connection summary:
  on-host:  all connections are pami
  off-host: all connections are pami

Cuda-Aware: GPU on 0 and GPU on 1:
1:	0.00616	
2:	0.00616	0.00703	
4:	0.00611	0.00695	0.00899	
8:	0.00611	0.00693	0.00904	0.01266	
16:	0.00613	0.00699	0.00919	0.01264	0.02054	
32:	0.00627	0.01186	0.00905	0.01267	0.01977	0.03397	
64:	0.00634	0.00709	0.00904	0.01269	0.01964	0.03406	0.06198	
128:	0.00640	0.00710	0.00911	0.01277	0.01966	0.03448	0.06233	0.11930	
256:	0.00646	0.00719	0.00920	0.01264	0.01986	0.03398	0.06210	0.11916	0.23391	
512:	0.00666	0.00737	0.00917	0.01288	0.01991	0.03425	0.06231	0.11969	0.23458	0.46430	
1024:	0.00702	0.00775	0.00925	0.01286	0.01993	0.03452	0.06249	0.11953	0.23374	0.46458	0.96871	
2048:	0.00770	0.00825	0.01017	0.01333	0.01998	0.03456	0.06272	0.12022	0.23546	0.46657	0.93738	2.21467	
4096:	0.00864	0.00881	0.01068	0.01500	0.02052	0.03472	0.06288	0.12089	0.23797	0.47052	0.94562	2.21970	5.33732	
8192:	0.01036	0.01067	0.01137	0.01550	0.02464	0.03523	0.06333	0.12170	0.23801	0.47338	0.95588	2.24660	5.34590	12.25828	
16384:	0.01383	0.01315	0.01360	0.01611	0.02528	0.04247	0.06404	0.12224	0.23838	0.47391	0.96328	2.27304	5.39712	12.28695	26.46473	
32768:	0.01842	0.01826	0.01846	0.01945	0.02833	0.04876	0.08872	0.13674	0.26894	0.53124	1.10196	2.71334	6.26901	14.15678	30.31314	64.13733	
65536:	0.02832	0.02822	0.02831	0.02891	0.03083	0.05157	0.09383	0.17568	0.28250	0.55977	1.16406	2.90328	6.75694	15.19907	32.85107	69.14587	140.09762	
131072:	0.10190	0.04841	0.04850	0.04839	0.04900	0.05289	0.09528	0.17803	0.34270	0.55885	1.15171	2.88267	6.76821	15.26206	32.95495	69.72996	142.80303	287.85656	

Three Step: GPU on 0 and GPU on 1:
1:	0.03444	
2:	0.03450	0.03488	
4:	0.03441	0.03487	0.03539	
8:	0.03453	0.03496	0.03544	0.03665	
16:	0.03449	0.03512	0.03553	0.03677	0.03907	
32:	0.03459	0.03493	0.03574	0.03673	0.03908	0.04422	
64:	0.03528	0.03528	0.03573	0.03707	0.03934	0.04388	0.05348	
128:	0.03541	0.03593	0.03591	0.03699	0.03955	0.04417	0.05351	0.07212	
256:	0.03543	0.03635	0.03694	0.03753	0.03959	0.04482	0.05422	0.07279	0.11012	
512:	0.03655	0.03673	0.03772	0.03930	0.04024	0.04499	0.05519	0.07384	0.11065	0.22555	
1024:	0.03782	0.03806	0.03843	0.04019	0.04377	0.04620	0.05557	0.07591	0.11333	0.22698	0.45824	
2048:	0.04096	0.04065	0.04128	0.04255	0.04567	0.05288	0.05865	0.07798	0.11779	0.23245	0.46041	0.98808	
4096:	0.04430	0.04341	0.04366	0.04517	0.04777	0.05471	0.06912	0.08134	0.11965	0.23831	0.46819	0.98951	2.07238	
8192:	0.05033	0.05048	0.04992	0.05059	0.05393	0.05922	0.07322	0.10268	0.12720	0.24143	0.47092	0.99723	2.05560	4.44559	
16384:	0.06223	0.06307	0.06367	0.06301	0.06553	0.07157	0.08479	0.11323	0.17131	0.25937	0.48487	1.00851	2.09189	4.44209	9.85396	
32768:	0.08112	0.07518	0.07616	0.07787	0.07798	0.08358	0.09662	0.12386	0.18099	0.30042	0.50269	1.01991	2.10675	4.52287	9.86625	21.07293	
65536:	0.11025	0.10990	0.10174	0.10428	0.10762	0.10919	0.12015	0.14890	0.20316	0.32304	0.57128	1.04129	2.10565	4.54918	9.95271	21.04682	45.55870	
131072:	0.17060	0.16676	0.16665	0.15174	0.15647	0.16246	0.16798	0.19224	0.25073	0.37584	0.62428	1.13369	2.20818	4.63754	10.05431	21.26422	45.62145	98.69032	

app 0: ./time_comparison 
rank: 0: { host: 1; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 4: { host: 1; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 5: { host: 2; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 6: { host: 1; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 7: { host: 2; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 857079: <comparison> in cluster <lassen> Done

Job <comparison> was submitted from host <lassen709> by user <bienz1> in cluster <lassen> at Thu Feb  6 17:12:32 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Thu Feb  6 17:12:33 2020
                            <40*lassen14>
                            <40*lassen15>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Thu Feb  6 17:12:33 2020
Terminated at Thu Feb  6 17:17:08 2020
Results reported at Thu Feb  6 17:17:08 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J comparison
#BSUB -e comparison.%J.err
#BSUB -o comparison.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

#module load hwloc
#module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000


jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_comparison


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-intra=vader -prot" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -intra=vader" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong_gpu


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 \
#nsys profile \
#--trace=mpi,cuda,nvtx \
#--mpi-impl=openmpi \
#--output=profile_%q{OMPI_COMM_WORLD_RANK} \
#--stats=true \
#./profile_ping_pong




------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.21 sec.
    Max Memory :                                 58 MB
    Average Memory :                             56.73 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   275 sec.
    Turnaround time :                            276 sec.

The output (if any) is above this job summary.



PS:

Read file <comparison.857079.err> for stderr output of this job.

