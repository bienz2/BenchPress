GPU Allreduce:
1:	7.823241e-01	
2:	9.080454e-01	
4:	8.586589e-01	
8:	8.671054e-01	
16:	7.931657e-01	
32:	7.928949e-01	
64:	8.110561e-01	
128:	7.941362e-01	
256:	8.065540e-01	
512:	8.018253e-01	
1024:	7.853583e-01	
2048:	8.233432e-01	
4096:	8.136120e-01	
8192:	1.345073e-01	
16384:	2.127712e-01	
32768:	3.032841e-01	
65536:	5.173544e-01	
131072:	9.468774e-01	
262144:	2.076784e+00	
524288:	3.485613e+00	
1048576:	6.799951e+00	
2097152:	1.410904e+01	
4194304:	2.928406e+01	
8388608:	6.065833e+01	

CPU Allreduce:
1:	3.231215e-02	
2:	3.171431e-02	
4:	3.066005e-02	
8:	3.267789e-02	
16:	3.081096e-02	
32:	3.073044e-02	
64:	3.095276e-02	
128:	3.154153e-02	
256:	3.222949e-02	
512:	3.407561e-02	
1024:	3.809502e-02	
2048:	4.367814e-02	
4096:	5.215541e-02	
8192:	6.538527e-02	
16384:	1.051891e-01	
32768:	1.342816e-01	
65536:	3.145656e-01	
131072:	4.515265e-01	
262144:	8.228182e-01	
524288:	1.590379e+00	
1048576:	3.116173e+00	
2097152:	6.349991e+00	
4194304:	1.496238e+01	
8388608:	3.289445e+01	

3Step:
1:	3.002900e-02	-1	-1	-1	
2:	2.946029e-02	3.185005e-02	-1	-1	
4:	2.957613e-02	3.208821e-02	3.430564e-02	-1	
8:	3.179273e-02	3.221494e-02	3.578274e-02	4.155499e-02	
16:	3.078942e-02	3.490724e-02	3.372763e-02	3.803871e-02	
32:	2.976000e-02	3.351090e-02	3.857828e-02	3.661440e-02	
64:	3.062729e-02	3.233502e-02	3.370002e-02	4.277264e-02	
128:	3.041383e-02	3.370604e-02	3.371450e-02	3.536813e-02	
256:	3.141493e-02	3.343380e-02	3.396532e-02	3.571313e-02	
512:	3.297675e-02	3.470171e-02	3.537134e-02	3.684733e-02	
1024:	3.772447e-02	3.736255e-02	3.817389e-02	3.915948e-02	
2048:	4.329695e-02	4.370113e-02	4.022318e-02	4.151163e-02	
4096:	5.199754e-02	5.100702e-02	4.882902e-02	4.507840e-02	
8192:	6.443322e-02	6.728560e-02	5.425577e-02	5.377991e-02	
16384:	1.047065e-01	8.971372e-02	8.679266e-02	6.551197e-02	
32768:	1.285221e-01	1.457077e-01	1.480334e-01	1.625261e-01	
65536:	3.065121e-01	1.813853e-01	1.836324e-01	1.690810e-01	
131072:	4.570898e-01	4.641688e-01	2.754472e-01	2.649950e-01	
262144:	8.214818e-01	7.042095e-01	5.426058e-01	4.765366e-01	
524288:	1.580744e+00	1.306363e+00	9.265747e-01	7.914881e-01	
1048576:	3.190777e+00	2.666145e+00	1.759840e+00	1.375101e+00	
2097152:	6.358170e+00	5.409864e+00	3.250808e+00	2.556067e+00	
4194304:	1.473016e+01	1.120702e+01	6.860140e+00	4.928538e+00	
8388608:	3.282189e+01	2.582818e+01	1.407837e+01	9.960783e+00	

3Step Async:
1:	3.027164e-02	-1	-1	-1	
2:	3.054350e-02	1.852411e-01	-1	-1	
4:	3.116092e-02	1.835154e-01	3.655703e-01	-1	
8:	3.150875e-02	1.850599e-01	3.687617e-01	7.425665e-01	
16:	3.070435e-02	1.853164e-01	3.686707e-01	7.425410e-01	
32:	3.062360e-02	1.791788e-01	3.686979e-01	7.421486e-01	
64:	3.098441e-02	1.850746e-01	3.684019e-01	7.175770e-01	
128:	3.146674e-02	1.795530e-01	3.683724e-01	7.429225e-01	
256:	3.269625e-02	1.855516e-01	3.564073e-01	7.055754e-01	
512:	3.311353e-02	1.703653e-01	3.499782e-01	6.982101e-01	
1024:	3.773583e-02	1.763433e-01	3.507296e-01	7.068902e-01	
2048:	4.235535e-02	1.778080e-01	3.371062e-01	7.360023e-01	
4096:	5.200365e-02	1.715110e-01	3.390108e-01	6.755129e-01	
8192:	6.528801e-02	1.740226e-01	3.414538e-01	6.861508e-01	
16384:	1.048289e-01	7.142964e-02	3.454476e-01	6.860080e-01	
32768:	1.491398e-01	1.116686e-01	7.186925e-02	6.536972e-01	
65536:	3.055414e-01	1.428881e-01	1.181254e-01	7.454824e-02	
131072:	4.492248e-01	3.221118e-01	1.719017e-01	1.246679e-01	
262144:	8.227147e-01	5.009268e-01	3.665551e-01	2.786731e-01	
524288:	1.583197e+00	9.440054e-01	5.531983e-01	4.149772e-01	
1048576:	3.112775e+00	1.840600e+00	1.073184e+00	6.673214e-01	
2097152:	6.644570e+00	4.053442e+00	2.109101e+00	1.334357e+00	
4194304:	1.459225e+01	8.523827e+00	4.603681e+00	3.047277e+00	
8388608:	3.276171e+01	2.060399e+01	9.414562e+00	5.812961e+00	
app 0: ./time_allreduce 
rank: 0: { host: 1; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 4: { host: 1; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 5: { host: 2; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 6: { host: 1; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 7: { host: 2; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 8: { host: 1; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 9: { host: 2; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 10: { host: 1; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 11: { host: 2; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 12: { host: 1; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 13: { host: 2; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 14: { host: 1; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 15: { host: 2; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 16: { host: 1; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 17: { host: 2; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 18: { host: 1; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 19: { host: 2; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 20: { host: 1; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 21: { host: 2; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 22: { host: 1; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 23: { host: 2; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 24: { host: 1; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 25: { host: 2; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 26: { host: 1; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 27: { host: 2; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 28: { host: 1; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 29: { host: 2; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 30: { host: 1; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 31: { host: 2; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 32: { host: 1; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 33: { host: 2; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 34: { host: 1; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 35: { host: 2; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 36: { host: 1; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 37: { host: 2; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 38: { host: 1; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 39: { host: 2; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 40: { host: 1; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 41: { host: 2; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 42: { host: 1; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 43: { host: 2; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 44: { host: 1; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 45: { host: 2; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 46: { host: 1; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 47: { host: 2; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 48: { host: 1; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 49: { host: 2; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 50: { host: 1; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 51: { host: 2; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 52: { host: 1; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 53: { host: 2; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 54: { host: 1; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 55: { host: 2; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 56: { host: 1; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 57: { host: 2; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 58: { host: 1; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 59: { host: 2; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 60: { host: 1; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 61: { host: 2; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 62: { host: 1; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 63: { host: 2; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 64: { host: 1; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 65: { host: 2; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 66: { host: 1; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 67: { host: 2; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 68: { host: 1; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 69: { host: 2; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 70: { host: 1; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 71: { host: 2; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 876057: <all_reduce> in cluster <lassen> Done

Job <all_reduce> was submitted from host <lassen709> by user <bienz1> in cluster <lassen> at Tue Feb 11 18:17:36 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Tue Feb 11 18:17:39 2020
                            <40*lassen9>
                            <40*lassen10>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Tue Feb 11 18:17:39 2020
Terminated at Tue Feb 11 18:19:18 2020
Results reported at Tue Feb 11 18:19:18 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J all_reduce
#BSUB -e all_reduce.%J.err
#BSUB -o all_reduce.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

module load hwloc
module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000

jsrun -a36 -c36 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 ./time_allreduce



------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.21 sec.
    Max Memory :                                 59 MB
    Average Memory :                             55.18 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   98 sec.
    Turnaround time :                            102 sec.

The output (if any) is above this job summary.



PS:

Read file <all_reduce.876057.err> for stderr output of this job.

