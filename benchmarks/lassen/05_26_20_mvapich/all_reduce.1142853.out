GPU Allreduce:
1:	3.777780e+01	
2:	3.782163e+01	
4:	3.785235e+01	
8:	3.789433e+01	
16:	3.793337e+01	
32:	3.798158e+01	
64:	3.804839e+01	
128:	3.815211e+01	
256:	3.833154e+01	
512:	3.891272e+01	
1024:	3.912966e+01	
2048:	3.939980e+01	
4096:	4.037613e+01	
8192:	4.907063e+01	
16384:	6.427374e+01	
32768:	-5.711874e+02	
65536:	-5.002239e+02	
131072:	-4.294535e+02	
262144:	-3.580928e+02	
524288:	-2.622165e+02	
1048576:	-1.495428e+02	
2097152:	-6.092727e+02	
4194304:	3.469247e+02	
8388608:	1.203788e+03	

CPU Allreduce:
1:	1.205918e+03	
2:	1.206004e+03	
4:	1.206091e+03	
8:	1.206176e+03	
16:	1.206263e+03	
32:	1.206353e+03	
64:	1.206446e+03	
128:	1.206546e+03	
256:	1.206657e+03	
512:	1.206793e+03	
1024:	1.207152e+03	
2048:	1.207641e+03	
4096:	1.208208e+03	
8192:	1.208933e+03	
16384:	1.210009e+03	
32768:	1.221817e+02	
65536:	1.242839e+02	
131072:	1.285907e+02	
262144:	1.368799e+02	
524288:	1.533062e+02	
1048576:	1.857066e+02	
2097152:	1.920005e+03	
4194304:	2.045448e+03	
8388608:	2.303721e+03	

3Step:
1:	2.303817e+03	-1	-1	-1	
2:	2.303904e+03	2.304284e+03	-1	-1	
4:	2.304374e+03	2.304704e+03	2.305132e+03	-1	
8:	2.305223e+03	2.305555e+03	2.305948e+03	2.306424e+03	
16:	2.306512e+03	2.306850e+03	2.307240e+03	2.307683e+03	
32:	2.307776e+03	2.308102e+03	2.308490e+03	2.308951e+03	
64:	2.309046e+03	2.309161e+03	2.309548e+03	2.309998e+03	
128:	2.310103e+03	2.310219e+03	2.310594e+03	2.311038e+03	
256:	2.311152e+03	2.311275e+03	2.311402e+03	2.311846e+03	
512:	2.311984e+03	2.312121e+03	2.312253e+03	2.312700e+03	
1024:	2.312931e+03	2.313094e+03	2.313240e+03	2.313855e+03	
2048:	2.314031e+03	2.314302e+03	2.314478e+03	2.314958e+03	
4096:	2.315195e+03	2.315472e+03	2.315759e+03	2.316267e+03	
8192:	2.316646e+03	2.317015e+03	2.317296e+03	2.317665e+03	
16384:	2.318576e+03	2.319062e+03	2.319468e+03	2.319780e+03	
32768:	2.331589e+02	2.339412e+02	2.344447e+02	2.348670e+02	
65536:	2.369815e+02	2.383132e+02	2.391833e+02	2.398447e+02	
131072:	2.441480e+02	2.465623e+02	2.481147e+02	2.492425e+02	
262144:	2.574675e+02	2.622764e+02	2.652102e+02	2.672461e+02	
524288:	2.835838e+02	2.966186e+02	3.022344e+02	3.061462e+02	
1048576:	3.385547e+02	3.575422e+02	3.715131e+02	3.790205e+02	
2097152:	3.853597e+03	3.888232e+03	3.909172e+03	3.925632e+03	
4194304:	4.051064e+03	4.119362e+03	4.180229e+03	4.207687e+03	
8388608:	4.459109e+03	4.594335e+03	4.674942e+03	4.745802e+03	

3Step Async:
1:	4.745897e+03	-1	-1	-1	
2:	4.746099e+03	4.746346e+03	-1	-1	
4:	4.746569e+03	4.746965e+03	4.747521e+03	-1	
8:	4.747745e+03	4.748140e+03	4.748890e+03	4.750158e+03	
16:	4.750383e+03	4.750778e+03	4.751526e+03	4.752794e+03	
32:	4.753020e+03	4.753416e+03	4.754165e+03	4.755434e+03	
64:	4.755661e+03	4.756058e+03	4.756797e+03	4.758075e+03	
128:	4.758305e+03	4.758704e+03	4.759454e+03	4.760729e+03	
256:	4.760965e+03	4.761369e+03	4.762109e+03	4.763396e+03	
512:	4.763648e+03	4.764056e+03	4.764805e+03	4.766074e+03	
1024:	4.766388e+03	4.766797e+03	4.767557e+03	4.768818e+03	
2048:	4.769098e+03	4.769555e+03	4.770238e+03	4.771396e+03	
4096:	4.771716e+03	4.772152e+03	4.772854e+03	4.774022e+03	
8192:	4.774406e+03	4.774867e+03	4.775576e+03	4.776741e+03	
16384:	4.777465e+03	4.777861e+03	4.778654e+03	4.779808e+03	
32768:	4.791753e+02	4.799188e+02	4.803176e+02	4.814434e+02	
65536:	4.835566e+02	4.847665e+02	4.855123e+02	4.859438e+02	
131072:	4.903117e+02	4.924996e+02	4.937540e+02	4.945182e+02	
262144:	5.027600e+02	5.072006e+02	5.095446e+02	5.109127e+02	
524288:	5.272964e+02	5.375917e+02	5.421623e+02	5.446929e+02	
1048576:	5.773311e+02	5.947573e+02	6.072117e+02	6.118672e+02	
2097152:	6.181933e+03	6.215059e+03	6.233663e+03	6.246368e+03	
4194304:	6.371249e+03	0.000000e+00	0.000000e+00	0.000000e+00	
8388608:	0.000000e+00	0.000000e+00	0.000000e+00	0.000000e+00	
app 0: ./time_allreduce 
rank: 0: { host: 1; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 4: { host: 1; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 5: { host: 2; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 6: { host: 1; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 7: { host: 2; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 8: { host: 1; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 9: { host: 2; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 10: { host: 1; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 11: { host: 2; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 12: { host: 1; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 13: { host: 2; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 14: { host: 1; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 15: { host: 2; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 16: { host: 1; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 17: { host: 2; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 18: { host: 1; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 19: { host: 2; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 20: { host: 1; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 21: { host: 2; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 22: { host: 1; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 23: { host: 2; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 24: { host: 1; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 25: { host: 2; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 26: { host: 1; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 27: { host: 2; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 28: { host: 1; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 29: { host: 2; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 30: { host: 1; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 31: { host: 2; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 32: { host: 1; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 33: { host: 2; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 34: { host: 1; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 35: { host: 2; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 36: { host: 1; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 37: { host: 2; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 38: { host: 1; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 39: { host: 2; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 40: { host: 1; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 41: { host: 2; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 42: { host: 1; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 43: { host: 2; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 44: { host: 1; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 45: { host: 2; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 46: { host: 1; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 47: { host: 2; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 48: { host: 1; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 49: { host: 2; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 50: { host: 1; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 51: { host: 2; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 52: { host: 1; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 53: { host: 2; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 54: { host: 1; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 55: { host: 2; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 56: { host: 1; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 57: { host: 2; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 58: { host: 1; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 59: { host: 2; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 60: { host: 1; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 61: { host: 2; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 62: { host: 1; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 63: { host: 2; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 64: { host: 1; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 65: { host: 2; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 66: { host: 1; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 67: { host: 2; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 68: { host: 1; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 69: { host: 2; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 70: { host: 1; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 71: { host: 2; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 1142853: <all_reduce> in cluster <lassen> Done

Job <all_reduce> was submitted from host <lassen709> by user <bienz1> in cluster <lassen> at Tue May 26 11:14:07 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Tue May 26 11:47:14 2020
                            <40*lassen14>
                            <40*lassen15>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Tue May 26 11:47:14 2020
Terminated at Tue May 26 11:52:30 2020
Results reported at Tue May 26 11:52:30 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J all_reduce
#BSUB -e all_reduce.%J.err
#BSUB -o all_reduce.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

module load hwloc
module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000

jsrun -a36 -c36 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 ./time_allreduce



------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.26 sec.
    Max Memory :                                 58 MB
    Average Memory :                             56.92 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1380 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   315 sec.
    Turnaround time :                            2303 sec.

The output (if any) is above this job summary.



PS:

Read file <all_reduce.1142853.err> for stderr output of this job.

