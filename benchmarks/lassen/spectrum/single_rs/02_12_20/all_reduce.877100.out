GPU Allreduce:
1:	7.897707e-01	
2:	9.145290e-01	
4:	8.689271e-01	
8:	8.678340e-01	
16:	8.138393e-01	
32:	7.943920e-01	
64:	8.267539e-01	
128:	8.175035e-01	
256:	8.219243e-01	
512:	8.310752e-01	
1024:	8.171302e-01	
2048:	8.460097e-01	
4096:	8.334981e-01	
8192:	1.348494e-01	
16384:	2.152274e-01	
32768:	3.052238e-01	
65536:	5.558902e-01	
131072:	9.591995e-01	
262144:	1.884734e+00	
524288:	3.717088e+00	
1048576:	6.727700e+00	
2097152:	1.363452e+01	
4194304:	3.022014e+01	
8388608:	6.211098e+01	

CPU Allreduce:
1:	2.934560e-02	
2:	2.945613e-02	
4:	2.972274e-02	
8:	3.179337e-02	
16:	3.036548e-02	
32:	2.972902e-02	
64:	2.994548e-02	
128:	3.185851e-02	
256:	3.185707e-02	
512:	3.282021e-02	
1024:	3.882022e-02	
2048:	4.240417e-02	
4096:	5.167375e-02	
8192:	6.495436e-02	
16384:	1.106297e-01	
32768:	1.333667e-01	
65536:	3.114493e-01	
131072:	4.609978e-01	
262144:	8.487562e-01	
524288:	1.625007e+00	
1048576:	3.205698e+00	
2097152:	6.687430e+00	
4194304:	1.524735e+01	
8388608:	3.445179e+01	

3Step:
1:	2.885874e-02	-1	-1	-1	
2:	2.868689e-02	3.228656e-02	-1	-1	
4:	2.885371e-02	3.209659e-02	3.428493e-02	-1	
8:	3.107642e-02	3.151828e-02	3.426156e-02	3.988182e-02	
16:	2.907060e-02	3.440825e-02	3.267455e-02	3.820141e-02	
32:	2.917999e-02	3.231590e-02	3.723735e-02	3.440785e-02	
64:	2.964847e-02	3.119362e-02	3.274634e-02	4.112436e-02	
128:	2.990686e-02	3.202850e-02	3.230131e-02	3.423791e-02	
256:	3.082392e-02	3.276715e-02	3.329910e-02	3.560439e-02	
512:	3.241498e-02	3.476532e-02	3.488028e-02	3.672627e-02	
1024:	3.707495e-02	3.641680e-02	3.657603e-02	3.880417e-02	
2048:	4.240133e-02	4.329538e-02	3.939131e-02	4.028634e-02	
4096:	5.153194e-02	4.933271e-02	4.744430e-02	4.455204e-02	
8192:	6.330123e-02	6.642707e-02	5.372679e-02	5.295289e-02	
16384:	1.067899e-01	8.773561e-02	8.692528e-02	6.544513e-02	
32768:	1.297392e-01	1.479317e-01	1.142491e-01	1.278438e-01	
65536:	3.058918e-01	1.837404e-01	1.823360e-01	1.692416e-01	
131072:	4.599389e-01	4.641465e-01	2.750747e-01	2.670221e-01	
262144:	8.465978e-01	7.087819e-01	5.355251e-01	4.773139e-01	
524288:	1.641877e+00	1.310392e+00	9.764711e-01	7.876455e-01	
1048576:	3.151392e+00	2.703953e+00	1.724673e+00	1.410600e+00	
2097152:	6.451113e+00	5.420098e+00	3.302686e+00	2.550287e+00	
4194304:	1.522275e+01	1.121898e+01	6.815986e+00	5.944850e+00	
8388608:	3.434240e+01	2.540722e+01	1.385819e+01	1.104128e+01	

3Step Async:
1:	3.006693e-02	-1	-1	-1	
2:	2.970854e-02	1.917517e-01	-1	-1	
4:	2.979915e-02	1.921570e-01	3.817363e-01	-1	
8:	3.100302e-02	1.917961e-01	3.820280e-01	7.687081e-01	
16:	2.942080e-02	1.919275e-01	3.820873e-01	7.686268e-01	
32:	2.973958e-02	1.919763e-01	3.821472e-01	7.675220e-01	
64:	3.016544e-02	1.843229e-01	3.822770e-01	7.691980e-01	
128:	3.133698e-02	1.843559e-01	3.713135e-01	7.368400e-01	
256:	3.137778e-02	1.839170e-01	3.655397e-01	7.368588e-01	
512:	3.311921e-02	1.836380e-01	3.635060e-01	7.362571e-01	
1024:	3.777999e-02	1.838779e-01	3.628692e-01	7.193733e-01	
2048:	4.286997e-02	1.759632e-01	3.476302e-01	6.908350e-01	
4096:	5.099836e-02	1.772153e-01	3.492617e-01	7.037629e-01	
8192:	6.352993e-02	1.794008e-01	3.512023e-01	6.815475e-01	
16384:	1.118100e-01	6.996897e-02	3.412406e-01	6.777031e-01	
32768:	1.287789e-01	1.113020e-01	7.103527e-02	6.739376e-01	
65536:	3.061521e-01	1.425168e-01	1.153999e-01	7.311561e-02	
131072:	4.597028e-01	3.168275e-01	1.767750e-01	1.229145e-01	
262144:	8.431485e-01	5.131884e-01	3.464433e-01	2.760973e-01	
524288:	1.626615e+00	9.581565e-01	5.575910e-01	4.124882e-01	
1048576:	3.165859e+00	1.936543e+00	1.038640e+00	6.749626e-01	
2097152:	6.560248e+00	4.118214e+00	2.213206e+00	1.372892e+00	
4194304:	1.514749e+01	8.639284e+00	4.797361e+00	2.977964e+00	
8388608:	3.430923e+01	2.091730e+01	9.903390e+00	5.432695e+00	
app 0: ./time_allreduce 
rank: 0: { host: 1; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,8-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 4: { host: 1; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 5: { host: 2; cpu: {8-11}, {0-7,12-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 6: { host: 1; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 7: { host: 2; cpu: {12-15}, {0-11,16-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 8: { host: 1; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 9: { host: 2; cpu: {16-19}, {0-15,20-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 10: { host: 1; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 11: { host: 2; cpu: {20-23}, {0-19,24-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 12: { host: 1; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 13: { host: 2; cpu: {24-27}, {0-23,28-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 14: { host: 1; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 15: { host: 2; cpu: {28-31}, {0-27,32-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 16: { host: 1; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 17: { host: 2; cpu: {32-35}, {0-31,36-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 18: { host: 1; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 19: { host: 2; cpu: {36-39}, {0-35,40-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 20: { host: 1; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 21: { host: 2; cpu: {40-43}, {0-39,44-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 22: { host: 1; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 23: { host: 2; cpu: {44-47}, {0-43,48-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 24: { host: 1; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 25: { host: 2; cpu: {48-51}, {0-47,52-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 26: { host: 1; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 27: { host: 2; cpu: {52-55}, {0-51,56-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 28: { host: 1; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 29: { host: 2; cpu: {56-59}, {0-55,60-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 30: { host: 1; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 31: { host: 2; cpu: {60-63}, {0-59,64-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 32: { host: 1; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 33: { host: 2; cpu: {64-67}, {0-63,68-71,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 34: { host: 1; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 35: { host: 2; cpu: {68-71}, {0-67,80-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 36: { host: 1; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 37: { host: 2; cpu: {80-83}, {0-71,84-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 38: { host: 1; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 39: { host: 2; cpu: {84-87}, {0-71,80-83,88-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 40: { host: 1; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 41: { host: 2; cpu: {88-91}, {0-71,80-87,92-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 42: { host: 1; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 43: { host: 2; cpu: {92-95}, {0-71,80-91,96-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 44: { host: 1; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 45: { host: 2; cpu: {96-99}, {0-71,80-95,100-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 46: { host: 1; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 47: { host: 2; cpu: {100-103}, {0-71,80-99,104-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 48: { host: 1; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 49: { host: 2; cpu: {104-107}, {0-71,80-103,108-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 50: { host: 1; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 51: { host: 2; cpu: {108-111}, {0-71,80-107,112-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 52: { host: 1; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 53: { host: 2; cpu: {112-115}, {0-71,80-111,116-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 54: { host: 1; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 55: { host: 2; cpu: {116-119}, {0-71,80-115,120-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 56: { host: 1; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 57: { host: 2; cpu: {120-123}, {0-71,80-119,124-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 58: { host: 1; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 59: { host: 2; cpu: {124-127}, {0-71,80-123,128-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 60: { host: 1; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 61: { host: 2; cpu: {128-131}, {0-71,80-127,132-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 62: { host: 1; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 63: { host: 2; cpu: {132-135}, {0-71,80-131,136-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 64: { host: 1; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 65: { host: 2; cpu: {136-139}, {0-71,80-135,140-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 66: { host: 1; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 67: { host: 2; cpu: {140-143}, {0-71,80-139,144-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 68: { host: 1; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 69: { host: 2; cpu: {144-147}, {0-71,80-143,148-151} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 70: { host: 1; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0
rank: 71: { host: 2; cpu: {148-151}, {0-71,80-147} ; gpu: {0,1,2,3} ; mem: {0-146717,163036-309753} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 877100: <all_reduce> in cluster <lassen> Done

Job <all_reduce> was submitted from host <lassen708> by user <bienz1> in cluster <lassen> at Tue Feb 11 22:56:53 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Tue Feb 11 22:56:54 2020
                            <40*lassen27>
                            <40*lassen28>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Tue Feb 11 22:56:54 2020
Terminated at Tue Feb 11 22:58:21 2020
Results reported at Tue Feb 11 22:58:21 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J all_reduce
#BSUB -e all_reduce.%J.err
#BSUB -o all_reduce.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

module load hwloc
module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000

jsrun -a36 -c36 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 ./time_allreduce



------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.17 sec.
    Max Memory :                                 59 MB
    Average Memory :                             56.20 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   87 sec.
    Turnaround time :                            88 sec.

The output (if any) is above this job summary.



PS:

Read file <all_reduce.877100.err> for stderr output of this job.

