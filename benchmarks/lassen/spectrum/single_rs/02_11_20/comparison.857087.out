Host 0 [lassen17] ranks 0, 2, 4, 6
Host 1 [lassen22] ranks 1, 3, 5, 7

 host | 0    1
======|===========
    0 : pami pami
    1 : pami pami

Connection summary:
  on-host:  all connections are pami
  off-host: all connections are pami

Cuda-Aware: GPU on 0 and GPU on 4:
1:	0.01926	
2:	0.01921	0.02884	
4:	0.01911	0.02877	0.05367	
8:	0.01916	0.02882	0.05377	0.10388	
16:	0.01912	0.02879	0.05364	0.10386	0.20429	
32:	0.01909	0.02882	0.05539	0.10394	0.20591	0.40492	
64:	0.01910	0.02879	0.05369	0.10552	0.20402	0.40447	0.80768	
128:	0.01935	0.02931	0.05425	0.10615	0.20482	0.40541	0.80627	1.61066	
256:	0.01925	0.02940	0.05423	0.10469	0.20517	0.40569	0.80759	1.61398	3.21888	
512:	0.01931	0.02931	0.05430	0.10464	0.20478	0.40594	0.80758	1.61174	3.21905	6.42086	
1024:	0.01929	0.02945	0.05449	0.10464	0.20484	0.40586	0.80823	1.61222	3.21775	6.42027	12.83184	
2048:	0.01947	0.02934	0.05438	0.10515	0.20531	0.40643	0.80848	1.61285	3.21745	6.42489	12.83781	25.74227	
4096:	0.01940	0.02921	0.05444	0.10494	0.20523	0.40640	0.80843	1.61323	3.21881	6.42108	12.85104	25.71534	51.51538	
8192:	0.01956	0.02930	0.05452	0.10482	0.20515	0.40612	0.80714	1.62770	3.20872	6.41075	12.80483	25.69571	51.51464	103.91105	
16384:	0.01995	0.02916	0.05448	0.10492	0.20502	0.40567	0.80630	1.60869	3.20924	6.40649	12.79856	25.67624	51.51031	103.94785	208.96061	
32768:	0.02155	0.03003	0.05517	0.10567	0.20541	0.40592	0.80952	1.60749	3.20822	6.41295	12.81594	25.69056	51.52066	103.85105	209.76767	422.37954	
65536:	0.02428	0.03095	0.05492	0.10485	0.20332	0.40262	0.80115	1.58894	3.17185	6.42049	12.81487	25.70625	51.52537	103.92088	209.49877	422.68534	845.08090	
131072:	0.03064	0.03477	0.05442	0.10608	0.20394	0.40539	0.80065	1.58950	3.19573	6.41000	12.83037	25.69539	51.53233	103.88885	209.04809	422.15855	845.85853	1696.53607	

Three Step: GPU on 0 and GPU on 4:
1:	0.03336	
2:	0.03334	0.03355	
4:	0.03340	0.03353	0.03425	
8:	0.03327	0.03357	0.03428	0.03562	
16:	0.03345	0.03361	0.03425	0.03572	0.03855	
32:	0.03396	0.03430	0.03478	0.03614	0.03911	0.04518	
64:	0.03408	0.03436	0.03512	0.03614	0.03919	0.04530	0.05693	
128:	0.03400	0.03429	0.03490	0.03664	0.03886	0.04502	0.05695	0.08034	
256:	0.03417	0.03443	0.03555	0.03667	0.04007	0.04489	0.05700	0.08084	0.12667	
512:	0.03457	0.03515	0.03592	0.03800	0.04045	0.04739	0.05724	0.08130	0.12711	0.22114	
1024:	0.03600	0.03645	0.03691	0.03924	0.04298	0.04827	0.06223	0.08083	0.12772	0.22133	0.37443	
2048:	0.03808	0.03891	0.03865	0.04036	0.04437	0.05184	0.06340	0.09109	0.13049	0.22569	0.38018	1.12851	
4096:	0.04487	0.04120	0.04320	0.04211	0.04632	0.05378	0.06791	0.09256	0.14860	0.22348	0.39162	1.12713	2.29164	
8192:	0.05117	0.05394	0.04988	0.05330	0.05101	0.05883	0.07342	0.10227	0.15332	0.26343	0.39840	1.13587	2.28210	4.66506	
16384:	0.06363	0.06643	0.07245	0.06679	0.07263	0.06791	0.08244	0.11146	0.17124	0.26759	0.47453	0.90167	2.30640	4.65180	9.68754	
32768:	0.07854	0.08141	0.08727	0.09887	0.09155	0.10257	0.09241	0.12182	0.18350	0.29840	0.48604	0.86495	2.29437	4.68281	9.65426	19.87812	
65536:	0.10942	0.11265	0.11958	0.13067	0.15406	0.14233	0.16398	0.14278	0.20327	0.32406	0.55797	0.90105	2.60409	4.69335	9.73249	19.95229	42.11100	
131072:	0.17357	0.17738	0.18423	0.19566	0.21864	0.26504	0.24391	0.28875	0.24418	0.36325	0.60139	1.05694	2.47206	5.10916	9.78117	20.12440	41.94091	84.89702	

app 0: ./time_comparison 
rank: 0: { host: 1; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 4: { host: 1; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 5: { host: 2; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 6: { host: 1; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 7: { host: 2; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 857087: <comparison> in cluster <lassen> Done

Job <comparison> was submitted from host <lassen709> by user <bienz1> in cluster <lassen> at Thu Feb  6 17:18:09 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Thu Feb  6 17:18:11 2020
                            <40*lassen17>
                            <40*lassen22>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Thu Feb  6 17:18:11 2020
Terminated at Thu Feb  6 17:32:56 2020
Results reported at Thu Feb  6 17:32:56 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J comparison
#BSUB -e comparison.%J.err
#BSUB -o comparison.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

#module load hwloc
#module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000


jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_comparison


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-intra=vader -prot" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -intra=vader" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong_gpu


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 \
#nsys profile \
#--trace=mpi,cuda,nvtx \
#--mpi-impl=openmpi \
#--output=profile_%q{OMPI_COMM_WORLD_RANK} \
#--stats=true \
#./profile_ping_pong




------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.34 sec.
    Max Memory :                                 58 MB
    Average Memory :                             57.60 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   884 sec.
    Turnaround time :                            887 sec.

The output (if any) is above this job summary.



PS:

Read file <comparison.857087.err> for stderr output of this job.

