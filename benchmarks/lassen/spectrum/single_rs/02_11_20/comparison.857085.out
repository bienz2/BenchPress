Host 0 [lassen14] ranks 0, 2, 4, 6
Host 1 [lassen15] ranks 1, 3, 5, 7

 host | 0    1
======|===========
    0 : pami pami
    1 : pami pami

Connection summary:
  on-host:  all connections are pami
  off-host: all connections are pami

Cuda-Aware: GPU on 0 and GPU on 2:
1:	0.01764	
2:	0.01761	0.02639	
4:	0.01751	0.02638	0.05292	
8:	0.01754	0.02639	0.04939	0.09537	
16:	0.01747	0.02637	0.04934	0.09510	0.18876	
32:	0.01750	0.02636	0.04923	0.09709	0.18735	0.37179	
64:	0.01748	0.02640	0.04939	0.09524	0.18881	0.36957	0.73718	
128:	0.01790	0.02678	0.04991	0.09753	0.18754	0.37064	0.73683	1.47280	
256:	0.01791	0.02677	0.04997	0.09589	0.18793	0.37078	0.73780	1.48562	2.94150	
512:	0.01787	0.02666	0.04996	0.09573	0.18768	0.37026	0.73709	1.47153	2.94205	5.90645	
1024:	0.01787	0.02689	0.04983	0.09576	0.18762	0.37069	0.73743	1.47069	2.94166	5.90972	11.83474	
2048:	0.01800	0.02681	0.05026	0.09625	0.18824	0.37160	0.73747	1.47186	2.94163	5.89369	11.82987	23.76518	
4096:	0.01803	0.02677	0.05024	0.09587	0.18798	0.37074	0.73829	1.47192	2.94014	5.89041	11.83263	23.74178	47.93925	
8192:	0.01813	0.02678	0.05006	0.09596	0.18799	0.37031	0.73700	1.47128	2.94046	5.90220	11.78585	23.71165	47.86429	96.36729	
16384:	0.01834	0.02689	0.05020	0.09606	0.18817	0.37094	0.73822	1.47068	2.93900	5.88445	11.79306	23.73021	47.88932	96.42595	196.54493	
32768:	0.01931	0.02744	0.05071	0.09788	0.18960	0.37216	0.74044	1.46844	2.93628	5.88150	11.78948	23.69319	47.82999	96.24616	196.11639	392.97793	
65536:	0.02068	0.02725	0.05146	0.09602	0.18783	0.36956	0.73760	1.46053	2.91850	5.89006	11.80178	23.73088	47.84707	96.23830	196.06765	392.41663	788.91142	
131072:	0.02428	0.02876	0.05024	0.09689	0.18815	0.37006	0.73519	1.45759	2.91537	5.88265	11.78498	23.68443	47.81829	96.23682	196.23837	392.63335	788.67067	1581.57488	

Three Step: GPU on 0 and GPU on 2:
1:	0.03254	
2:	0.03256	0.03263	
4:	0.03245	0.03266	0.03310	
8:	0.03254	0.03272	0.03313	0.03384	
16:	0.03254	0.03268	0.03313	0.03387	0.03531	
32:	0.03253	0.03286	0.03330	0.03396	0.03540	0.03850	
64:	0.03292	0.03285	0.03334	0.03411	0.03547	0.03844	0.04454	
128:	0.03299	0.03317	0.03337	0.03410	0.03564	0.03855	0.04453	0.05675	
256:	0.03324	0.03333	0.03380	0.03435	0.03567	0.03860	0.04455	0.05663	0.08099	
512:	0.03371	0.03353	0.03402	0.03487	0.03587	0.03892	0.04496	0.05708	0.08118	0.12908	
1024:	0.03412	0.03423	0.03471	0.03555	0.03718	0.03936	0.04527	0.05741	0.08146	0.12897	0.22377	
2048:	0.03577	0.03628	0.03680	0.03752	0.03921	0.04276	0.04727	0.05889	0.08298	0.13065	0.22516	0.73061	
4096:	0.04041	0.03758	0.03836	0.03918	0.04069	0.04414	0.05105	0.06041	0.08498	0.13298	0.22695	0.72560	1.46050	
8192:	0.04463	0.04690	0.04255	0.04357	0.04537	0.04849	0.05525	0.06902	0.08909	0.13702	0.23160	0.73390	1.46708	3.06269	
16384:	0.05416	0.05662	0.06151	0.05384	0.05600	0.05961	0.06609	0.07942	0.10707	0.14621	0.24162	0.59079	1.48333	3.06566	6.40994	
32768:	0.06237	0.06478	0.06967	0.07937	0.06518	0.06950	0.07617	0.08969	0.11752	0.17188	0.25156	0.51074	1.49207	3.08952	6.40961	13.45845	
65536:	0.08074	0.08364	0.08827	0.09800	0.11750	0.09051	0.09876	0.11178	0.13842	0.19309	0.30289	0.46481	1.52392	3.12251	6.52703	13.47658	29.56997	
131072:	0.11494	0.11862	0.12350	0.13314	0.15257	0.19146	0.13854	0.15508	0.18160	0.23342	0.34323	0.57056	1.59927	3.21853	6.55068	13.68054	29.91735	60.28396	

app 0: ./time_comparison 
rank: 0: { host: 1; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 1: { host: 2; cpu: {0-3}, {4-7,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 2: { host: 1; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 3: { host: 2; cpu: {4-7}, {0-3,80-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 4: { host: 1; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 5: { host: 2; cpu: {80-83}, {0-7,84-87} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 6: { host: 1; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0
rank: 7: { host: 2; cpu: {84-87}, {0-7,80-83} ; gpu: {0,1,2,3} ; mem: {0-16301,163036-179337} } : app 0

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 857085: <comparison> in cluster <lassen> Done

Job <comparison> was submitted from host <lassen709> by user <bienz1> in cluster <lassen> at Thu Feb  6 17:17:56 2020
Job was executed on host(s) <1*lassen710>, in queue <pdebug>, as user <bienz1> in cluster <lassen> at Thu Feb  6 17:17:57 2020
                            <40*lassen14>
                            <40*lassen15>
</g/g14/bienz1> was used as the home directory.
</g/g14/bienz1/nodecomm> was used as the working directory.
Started at Thu Feb  6 17:17:57 2020
Terminated at Thu Feb  6 17:31:49 2020
Results reported at Thu Feb  6 17:31:49 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -J comparison
#BSUB -e comparison.%J.err
#BSUB -o comparison.%J.out
#BSUB -nnodes 2
#BSUB -q pdebug
#BSUB -W 00:15

#module load hwloc
#module load nsight-systems

cd /g/g14/bienz1/nodecomm

#export MP_USE_BULK_XFER=yes
#export MP_BULK_MIN_MSG_SIZE=1000000


jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_comparison


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -prot" --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-intra=vader -prot" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong
#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu -intra=vader" --latency_priority=gpu-cpu --print_placement=1 ./time_ping_pong_gpu


#jsrun -a4 -c4 -g4 -r1 -n2 -M "-gpu" --latency_priority=gpu-cpu --print_placement=1 \
#nsys profile \
#--trace=mpi,cuda,nvtx \
#--mpi-impl=openmpi \
#--output=profile_%q{OMPI_COMM_WORLD_RANK} \
#--stats=true \
#./profile_ping_pong




------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.44 sec.
    Max Memory :                                 58 MB
    Average Memory :                             57.56 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1424 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   832 sec.
    Turnaround time :                            833 sec.

The output (if any) is above this job summary.



PS:

Read file <comparison.857085.err> for stderr output of this job.

